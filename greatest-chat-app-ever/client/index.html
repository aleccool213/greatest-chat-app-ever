<head>
  <title>greatest-chat-app-ever</title>
</head>

<body>
	<nav class="navbar navbar-default">
		<div class="container-fluid">
			<div class="navbar-header">
				<a href="#" class="navbar-brand">GreatChat</a>
			</div>
			<ul class="navbar-nav navbar-right">
				<li>{{> loginButtons}}</li>
			</ul>
		</div>
	</nav>

  <!-- {{> listOfOverallUsers}} -->

  {{> friendList}}

  {{> greetingList}}
  <p>Sent Messages: </p>
  {{> chatRoomMessages}}

  {{> userChatMessageIn}}
</body>

<template name="listOfOverallUsers">
	<p> List of all users: </p>
	<ul>
		{{#each userInCollection}}
			<img src="{{services.twitter.profile_image_url_https}}" >
		    <li>{{profile.name}} (@{{services.twitter.screenName}})</li>
		{{/each}}
	</ul>
</template>

<template name="friendList">
	<p>Your friends:</p>
	<ul>
		{{#each friends}}
			{{> friend}}
		{{/each}}
	</ul>
	
	<button data-toggle="modal" data-target="#addFriendModal">Add Friend +</button>
	{{> addFriendModalTemplate}}
</template>

<template name="friend">
	<li>
		<img src="{{services.twitter.profile_image_url_https}}" style="height: 15px">
		{{ profile.name }} 
	</li>
</template>

<template name="addFriendModalTemplate">
	<div id="addFriendModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="addFriendModal" aria-hidden="true">
    	<div class="modal-dialog modal-sm">
            <div class="modal-content">
                <input id="addFriendInput" type="text" placeholder="Add a friend by twitter username">
            </div>
        </div>
    </div>
</template>

<template name="greetingList">
	<p>Greetings:</p>
	<ul>
		{{#each greetings}}
			{{> greeting}}
		{{/each}}
	</ul>
	<button data-toggle="modal" data-target="#addGreetingModal">Write Greeting!</button>
	{{> addGreetingModalTemplate}}
</template>

<template name="greeting">
	<li>
		<div id="ownerID" style="display: none;">{{owner.id}}</div>
		
		<img src="{{owner.services.twitter.profile_image_url}}">
		{{ owner.profile.name }}
		<div id="greetingContent">
			{{ content }}
		</div>
		{{prettifyDate dateCreated }}
		<hr>
	</li>
</template>

<template name="addGreetingModalTemplate">
	<div id="addGreetingModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="addGreetingModalTemplate" aria-hidden="true">
    	<div class="modal-dialog modal-sm">
            <div class="modal-content">
                <input id="addGreetingInput" type="text" placeholder="write a greeting plz">
            </div>
        </div>
    </div>
</template>


<template name="chatRoomMessages">
	{{#each chatMessages}}
		{{> sentMessage}}
	{{/each}}
</template> 

<template name ="sentMessage">
	<ul>
		 <li>
	 		{{owner.profile.name}}
	 		{{userMessages}}
	 		{{prettifyDate dateCreated}}
		 </li>
	</ul>
</template>

<template name ="userChatMessageIn">
	<form class="new-message">
			<input type="text" id="userMessage" name="chatText" placeholder="What do you have to say?">
	</form>
</template>





